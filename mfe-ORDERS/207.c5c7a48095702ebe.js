(self.webpackChunkmfe_ORDERS=self.webpackChunkmfe_ORDERS||[]).push([[207,588],{2588:(T,f,e)=>{e.r(f),e.d(f,{AuthService:()=>h,CoreServicesComponent:()=>_,CoreServicesService:()=>o,ProductCategory:()=>M,RoleService:()=>u,SalesDataService:()=>U,SalesStatus:()=>I,UserRole:()=>l});var t=e(4332);let o=(()=>{class m{constructor(){}static{this.\u0275fac=function(P){return new(P||m)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})();var d=e(467),s=e(3425),c=e(4230);let h=(()=>{class m{constructor(O){this.http=O,this.id="auth of pokemon",this.ISSUER_BASE_URL="https://topfix-wrczmn.us1.zitadel.cloud",this.CLIENT_ID="336777344075263315",this.REDIRECT_URI="https://opensourcekd.github.io/pokemon/#/auth-callback",this.SCOPE="openid profile email",this.TOKEN_KEY="zitadel_token",this.USER_INFO_KEY="zitadel_user_info",this.userSubject=new s.BehaviorSubject(this.getUserInfoFromStorage()),this.user$=this.userSubject.asObservable(),console.log("In constructor of auth service in pokemon")}login(O){O&&console.log(`[AuthService] Logged in: ${O}`),this.redirectToZitadelLogin()}redirectToZitadelLogin(){const O=new URL(`${this.ISSUER_BASE_URL}/oauth/v2/authorize`),P=this.generateRandomState(),A=this.generateCodeVerifier();sessionStorage.setItem("oauth_state",P),sessionStorage.setItem("code_verifier",A),O.searchParams.append("client_id",this.CLIENT_ID),O.searchParams.append("redirect_uri",this.REDIRECT_URI),O.searchParams.append("response_type","code"),O.searchParams.append("scope",this.SCOPE),O.searchParams.append("state",P),window.location.href=O.toString()}handleCallback(O,P){var A=this;return(0,d.A)(function*(){const C=sessionStorage.getItem("oauth_state");if(P!==C)return console.error("State mismatch - possible CSRF attack"),!1;try{const S=yield A.exchangeCodeForToken(O);A.setToken(S.access_token);const p=A.decodeIdToken(S.id_token);return A.setUserInfo(p),sessionStorage.removeItem("oauth_state"),sessionStorage.removeItem("code_verifier"),!0}catch(S){return console.error("Error exchanging code for token:",S),!1}})()}exchangeCodeForToken(O){var P=this;return(0,d.A)(function*(){const A=`${P.ISSUER_BASE_URL}/oauth/v2/token`,C=new URLSearchParams({grant_type:"authorization_code",code:O,redirect_uri:P.REDIRECT_URI,client_id:P.CLIENT_ID}),S=yield fetch(A,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:C.toString()});if(!S.ok)throw new Error(`Token exchange failed: ${S.statusText}`);return S.json()})()}decodeIdToken(O){try{const P=O.split(".")[1],A=JSON.parse(atob(P));return{sub:A.sub,name:A.name,email:A.email}}catch(P){return console.error("Error decoding ID token:",P),{sub:""}}}logout(){localStorage.removeItem(this.TOKEN_KEY),localStorage.removeItem(this.USER_INFO_KEY),this.userSubject.next(null)}getToken(){return localStorage.getItem(this.TOKEN_KEY)}setToken(O){localStorage.setItem(this.TOKEN_KEY,O)}isAuthenticated(){return!!this.getToken()}getUser(){return this.userSubject.value}getUserInfoFromStorage(){const O=localStorage.getItem(this.USER_INFO_KEY);return O?JSON.parse(O):null}setUserInfo(O){localStorage.setItem(this.USER_INFO_KEY,JSON.stringify(O)),this.userSubject.next(O)}generateRandomState(){const O=new Uint8Array(32);return crypto.getRandomValues(O),Array.from(O,P=>P.toString(16).padStart(2,"0")).join("")}generateCodeVerifier(){const O=new Uint8Array(32);return crypto.getRandomValues(O),Array.from(O,P=>P.toString(16).padStart(2,"0")).join("")}static{this.\u0275fac=function(P){return new(P||m)(t.\u0275\u0275inject(c.HttpClient))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})(),_=(()=>{class m{static{this.\u0275fac=function(P){return new(P||m)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:m,selectors:[["org-core-services"]],standalone:!0,features:[t.\u0275\u0275StandaloneFeature],decls:2,vars:0,template:function(P,A){1&P&&(t.\u0275\u0275elementStart(0,"p"),t.\u0275\u0275text(1," core-services works! "),t.\u0275\u0275elementEnd())}})}}return m})();var l=function(m){return m.SUPER_ADMIN="super-admin",m.ORG_ADMIN="org-admin",m.TEAM_LEAD="team-lead",m.SALES_EXECUTIVE="sales-executive",m}(l||{});let u=(()=>{class m{constructor(O){this.currentUserSubject=new s.BehaviorSubject(this.getDummyUser()),this.currentUser$=this.currentUserSubject.asObservable(),this.dataService=O}getCurrentUser(){return this.currentUserSubject.value}setCurrentUser(O){this.currentUserSubject.next(O)}hasRole(O){return this.getCurrentUser()?.role===O}hasAnyRole(O){const P=this.getCurrentUser();return!!P&&O.includes(P.role)}isAdmin(){return this.hasAnyRole([l.SUPER_ADMIN,l.ORG_ADMIN])}isTeamLeadOrHigher(){return this.hasAnyRole([l.SUPER_ADMIN,l.ORG_ADMIN,l.TEAM_LEAD])}getAllUsers(){return[{id:"user-1",name:"John Admin",email:"john.admin@company.com",role:l.SUPER_ADMIN},{id:"user-2",name:"Sarah Manager",email:"sarah.manager@company.com",role:l.ORG_ADMIN},{id:"user-3",name:"Mike Lead",email:"mike.lead@company.com",role:l.TEAM_LEAD,teamId:"team-1"},{id:"user-4",name:"Alice Sales",email:"alice.sales@company.com",role:l.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"},{id:"user-5",name:"Bob Sales",email:"bob.sales@company.com",role:l.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"},{id:"user-6",name:"Carol Sales",email:"carol.sales@company.com",role:l.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"}]}getViewableUsers(){const O=this.getCurrentUser();if(!O)return[];const P=this.getAllUsers();return this.isTeamLeadOrHigher()?P.filter(A=>A.role===l.SALES_EXECUTIVE||A.id===O.id):P.filter(A=>A.id===O.id)}getDummyUser(){return{id:"user-4",name:"Alice Sales",email:"alice.sales@company.com",role:l.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"}}static{this.\u0275fac=function(P){return new(P||m)(t.\u0275\u0275inject("DataService",8))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})();var D=e(3103),I=function(m){return m.COMPLETED="completed",m.PENDING="pending",m.CANCELLED="cancelled",m}(I||{}),M=function(m){return m.ELECTRONICS="Electronics",m.SOFTWARE="Software",m.SERVICES="Services",m.HARDWARE="Hardware",m}(M||{});let U=(()=>{class m{constructor(O){this.dummySalesData=this.generateDummyData(),this.dataService=O}getSalesHistory(O,P,A){if(this.dataService)return this.dataService.getSalesHistory(O,P,A);let C=this.dummySalesData.filter(S=>S.salesExecutiveId===O);return P&&(C=C.filter(S=>S.date>=P)),A&&(C=C.filter(S=>S.date<=A)),(0,s.of)(C).pipe((0,D.c)(300))}getSalesSummary(O){if(this.dataService)return this.dataService.getSalesSummary(O);const P=this.dummySalesData.filter(C=>C.salesExecutiveId===O),A={totalSales:P.filter(C=>C.status===I.COMPLETED).reduce((C,S)=>C+S.amount,0),totalCommission:P.filter(C=>C.status===I.COMPLETED).reduce((C,S)=>C+S.commission,0),completedCount:P.filter(C=>C.status===I.COMPLETED).length,pendingCount:P.filter(C=>C.status===I.PENDING).length,cancelledCount:P.filter(C=>C.status===I.CANCELLED).length};return(0,s.of)(A).pipe((0,D.c)(300))}getAllSales(){return this.dataService?this.dataService.getAllSales():(0,s.of)(this.dummySalesData).pipe((0,D.c)(300))}generateDummyData(){const O=[{name:"Enterprise Software License",category:M.SOFTWARE,basePrice:5e4},{name:"Cloud Storage Solution",category:M.SERVICES,basePrice:25e3},{name:"Server Hardware",category:M.HARDWARE,basePrice:35e3},{name:"IoT Device Package",category:M.ELECTRONICS,basePrice:15e3},{name:"Consulting Services",category:M.SERVICES,basePrice:2e4},{name:"Mobile App Development",category:M.SOFTWARE,basePrice:45e3},{name:"Security Suite",category:M.SOFTWARE,basePrice:3e4},{name:"Network Infrastructure",category:M.HARDWARE,basePrice:6e4}],P=["Acme Corporation","Tech Innovations Inc","Global Solutions Ltd","Digital Dynamics","Future Systems","Smart Technologies","Enterprise Solutions","Cloud Masters"],A=["North","South","East","West","Central"],C=[{id:"user-4",name:"Alice Sales"},{id:"user-5",name:"Bob Sales"},{id:"user-6",name:"Carol Sales"}],S=[I.COMPLETED,I.COMPLETED,I.COMPLETED,I.PENDING,I.CANCELLED],p=[];let E=1;for(let b=0;b<50;b++){const K=C[b%C.length],N=O[Math.floor(Math.random()*O.length)],$=P[Math.floor(Math.random()*P.length)],V=A[Math.floor(Math.random()*A.length)],J=S[Math.floor(Math.random()*S.length)],Z=N.basePrice+(1e4*Math.random()-5e3),Q=.05*Z,z=new Date;z.setDate(z.getDate()-Math.floor(180*Math.random())),p.push({id:"sale-"+E++,salesExecutiveId:K.id,salesExecutiveName:K.name,productName:N.name,productCategory:N.category,amount:Math.round(Z),commission:Math.round(Q),status:J,date:z,clientName:$,region:V})}return p.sort((b,K)=>K.date.getTime()-b.date.getTime())}static{this.\u0275fac=function(P){return new(P||m)(t.\u0275\u0275inject("DataService",8))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()},1985:(T,f,e)=>{e.d(f,{c:()=>l});var t=e(7707),o=e(3961),d=e(3494),s=e(1203),c=e(1026),h=e(8071),_=e(9786);let l=(()=>{class M{constructor(m){m&&(this._subscribe=m)}lift(m){const L=new M;return L.source=this,L.operator=m,L}subscribe(m,L,O){const P=function I(M){return M&&M instanceof t.vU||function D(M){return M&&(0,h.T)(M.next)&&(0,h.T)(M.error)&&(0,h.T)(M.complete)}(M)&&(0,o.Uv)(M)}(m)?m:new t.Ms(m,L,O);return(0,_.Y)(()=>{const{operator:A,source:C}=this;P.add(A?A.call(P,C):C?this._subscribe(P):this._trySubscribe(P))}),P}_trySubscribe(m){try{return this._subscribe(m)}catch(L){m.error(L)}}forEach(m,L){return new(L=u(L))((O,P)=>{const A=new t.Ms({next:C=>{try{m(C)}catch(S){P(S),A.unsubscribe()}},error:P,complete:O});this.subscribe(A)})}_subscribe(m){var L;return null===(L=this.source)||void 0===L?void 0:L.subscribe(m)}[d.s](){return this}pipe(...m){return(0,s.m)(m)(this)}toPromise(m){return new(m=u(m))((L,O)=>{let P;this.subscribe(A=>P=A,A=>O(A),()=>L(P))})}}return M.create=U=>new M(U),M})();function u(M){var U;return null!==(U=M??c.$.Promise)&&void 0!==U?U:Promise}},8399:(T,f,e)=>{e.d(f,{_:()=>o});var t=e(6129);class o{constructor(s,c=o.now){this.schedulerActionCtor=s,this.now=c}schedule(s,c=0,h){return new this.schedulerActionCtor(this,s).schedule(h,c)}}o.now=t.U.now},7707:(T,f,e)=>{e.d(f,{Ms:()=>O,vU:()=>M});var t=e(8071),o=e(3961),d=e(1026),s=e(5334),c=e(5343);const h=u("C",void 0,void 0);function u(p,E,b){return{kind:p,value:E,error:b}}var D=e(9270),I=e(9786);class M extends o.yU{constructor(E){super(),this.isStopped=!1,E?(this.destination=E,(0,o.Uv)(E)&&E.add(this)):this.destination=S}static create(E,b,K){return new O(E,b,K)}next(E){this.isStopped?C(function l(p){return u("N",p,void 0)}(E),this):this._next(E)}error(E){this.isStopped?C(function _(p){return u("E",void 0,p)}(E),this):(this.isStopped=!0,this._error(E))}complete(){this.isStopped?C(h,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(E){this.destination.next(E)}_error(E){try{this.destination.error(E)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const U=Function.prototype.bind;function m(p,E){return U.call(p,E)}class L{constructor(E){this.partialObserver=E}next(E){const{partialObserver:b}=this;if(b.next)try{b.next(E)}catch(K){P(K)}}error(E){const{partialObserver:b}=this;if(b.error)try{b.error(E)}catch(K){P(K)}else P(E)}complete(){const{partialObserver:E}=this;if(E.complete)try{E.complete()}catch(b){P(b)}}}class O extends M{constructor(E,b,K){let N;if(super(),(0,t.T)(E)||!E)N={next:E??void 0,error:b??void 0,complete:K??void 0};else{let $;this&&d.$.useDeprecatedNextContext?($=Object.create(E),$.unsubscribe=()=>this.unsubscribe(),N={next:E.next&&m(E.next,$),error:E.error&&m(E.error,$),complete:E.complete&&m(E.complete,$)}):N=E}this.destination=new L(N)}}function P(p){d.$.useDeprecatedSynchronousErrorHandling?(0,I.l)(p):(0,s.m)(p)}function C(p,E){const{onStoppedNotification:b}=d.$;b&&D.f.setTimeout(()=>b(p,E))}const S={closed:!0,next:c.l,error:function A(p){throw p},complete:c.l}},3961:(T,f,e)=>{e.d(f,{Kn:()=>c,Uv:()=>h,yU:()=>s});var t=e(8071),o=e(4079),d=e(7908);class s{constructor(u){this.initialTeardown=u,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let u;if(!this.closed){this.closed=!0;const{_parentage:D}=this;if(D)if(this._parentage=null,Array.isArray(D))for(const U of D)U.remove(this);else D.remove(this);const{initialTeardown:I}=this;if((0,t.T)(I))try{I()}catch(U){u=U instanceof o.Z?U.errors:[U]}const{_finalizers:M}=this;if(M){this._finalizers=null;for(const U of M)try{_(U)}catch(m){u=u??[],m instanceof o.Z?u=[...u,...m.errors]:u.push(m)}}if(u)throw new o.Z(u)}}add(u){var D;if(u&&u!==this)if(this.closed)_(u);else{if(u instanceof s){if(u.closed||u._hasParent(this))return;u._addParent(this)}(this._finalizers=null!==(D=this._finalizers)&&void 0!==D?D:[]).push(u)}}_hasParent(u){const{_parentage:D}=this;return D===u||Array.isArray(D)&&D.includes(u)}_addParent(u){const{_parentage:D}=this;this._parentage=Array.isArray(D)?(D.push(u),D):D?[D,u]:u}_removeParent(u){const{_parentage:D}=this;D===u?this._parentage=null:Array.isArray(D)&&(0,d.o)(D,u)}remove(u){const{_finalizers:D}=this;D&&(0,d.o)(D,u),u instanceof s&&u._removeParent(this)}}s.EMPTY=(()=>{const l=new s;return l.closed=!0,l})();const c=s.EMPTY;function h(l){return l instanceof s||l&&"closed"in l&&(0,t.T)(l.remove)&&(0,t.T)(l.add)&&(0,t.T)(l.unsubscribe)}function _(l){(0,t.T)(l)?l():l.unsubscribe()}},1026:(T,f,e)=>{e.d(f,{$:()=>t});const t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2688:(T,f,e)=>{e.d(f,{x:()=>s});var t=e(9131),o=e(9326),d=e(9724);function s(...c){return(0,t.K)()((0,d.H)(c,(0,o.lI)(c)))}},983:(T,f,e)=>{e.d(f,{I:()=>d,w:()=>o});var t=e(1985);const o=new t.c(c=>c.complete());function d(c){return c?function s(c){return new t.c(h=>c.schedule(()=>h.complete()))}(c):o}},9724:(T,f,e)=>{e.d(f,{H:()=>d});var t=e(5894),o=e(8750);function d(s,c){return c?(0,t.c)(s,c):(0,o.Tg)(s)}},8750:(T,f,e)=>{e.d(f,{Tg:()=>U});var t=e(1635),o=e(7441),d=e(9858),s=e(1985),c=e(5055),h=e(7953),_=e(591),l=e(5397),u=e(5196),D=e(8071),I=e(5334),M=e(3494);function U(p){if(p instanceof s.c)return p;if(null!=p){if((0,c.l)(p))return function m(p){return new s.c(E=>{const b=p[M.s]();if((0,D.T)(b.subscribe))return b.subscribe(E);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(p);if((0,o.X)(p))return function L(p){return new s.c(E=>{for(let b=0;b<p.length&&!E.closed;b++)E.next(p[b]);E.complete()})}(p);if((0,d.y)(p))return function O(p){return new s.c(E=>{p.then(b=>{E.closed||(E.next(b),E.complete())},b=>E.error(b)).then(null,I.m)})}(p);if((0,h.T)(p))return A(p);if((0,l.x)(p))return function P(p){return new s.c(E=>{for(const b of p)if(E.next(b),E.closed)return;E.complete()})}(p);if((0,u.U)(p))return function C(p){return A((0,u.C)(p))}(p)}throw(0,_.L)(p)}function A(p){return new s.c(E=>{(function S(p,E){var b,K,N,$;return(0,t.sH)(this,void 0,void 0,function*(){try{for(b=(0,t.xN)(p);!(K=yield b.next()).done;)if(E.next(K.value),E.closed)return}catch(V){N={error:V}}finally{try{K&&!K.done&&($=b.return)&&(yield $.call(b))}finally{if(N)throw N.error}}E.complete()})})(p,E).catch(b=>E.error(b))})}},1807:(T,f,e)=>{e.d(f,{O:()=>c});var t=e(1985),o=e(3236),d=e(9470),s=e(8211);function c(h=0,_,l=o.b){let u=-1;return null!=_&&((0,d.m)(_)?l=_:u=_),new t.c(D=>{let I=(0,s.v)(h)?+h-l.now():h;I<0&&(I=0);let M=0;return l.schedule(function(){D.closed||(D.next(M++),0<=u?this.schedule(void 0,u):D.complete())},I)})}},4360:(T,f,e)=>{e.d(f,{H:()=>d,_:()=>o});var t=e(7707);function o(s,c,h,_,l){return new d(s,c,h,_,l)}class d extends t.vU{constructor(c,h,_,l,u,D){super(c),this.onFinalize=u,this.shouldUnsubscribe=D,this._next=h?function(I){try{h(I)}catch(M){c.error(M)}}:super._next,this._error=l?function(I){try{l(I)}catch(M){c.error(M)}finally{this.unsubscribe()}}:super._error,this._complete=_?function(){try{_()}catch(I){c.error(I)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var c;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:h}=this;super.unsubscribe(),!h&&(null===(c=this.onFinalize)||void 0===c||c.call(this))}}}},9131:(T,f,e)=>{e.d(f,{K:()=>o});var t=e(6365);function o(){return(0,t.U)(1)}},3103:(T,f,e)=>{e.d(f,{c:()=>s});var t=e(3236),o=e(3183),d=e(1807);function s(c,h=t.E){const _=(0,d.O)(c,h);return(0,o.o)(()=>_)}},3183:(T,f,e)=>{e.d(f,{o:()=>_});var t=e(2688),o=e(6697),d=e(3557),s=e(3703),c=e(3028),h=e(8750);function _(l,u){return u?D=>(0,t.x)(u.pipe((0,o.s)(1),(0,d.w)()),D.pipe(_(l))):(0,c.Z)((D,I)=>(0,h.Tg)(l(D,I)).pipe((0,o.s)(1),(0,s.u)(D)))}},3557:(T,f,e)=>{e.d(f,{w:()=>s});var t=e(9974),o=e(4360),d=e(5343);function s(){return(0,t.N)((c,h)=>{c.subscribe((0,o._)(h,d.l))})}},6354:(T,f,e)=>{e.d(f,{T:()=>d});var t=e(9974),o=e(4360);function d(s,c){return(0,t.N)((h,_)=>{let l=0;h.subscribe((0,o._)(_,u=>{_.next(s.call(c,u,l++))}))})}},3703:(T,f,e)=>{e.d(f,{u:()=>o});var t=e(6354);function o(d){return(0,t.T)(()=>d)}},6365:(T,f,e)=>{e.d(f,{U:()=>d});var t=e(3028),o=e(3669);function d(s=1/0){return(0,t.Z)(o.D,s)}},5412:(T,f,e)=>{e.d(f,{h:()=>s});var t=e(8750),o=e(5225),d=e(4360);function s(c,h,_,l,u,D,I,M){const U=[];let m=0,L=0,O=!1;const P=()=>{O&&!U.length&&!m&&h.complete()},A=S=>m<l?C(S):U.push(S),C=S=>{D&&h.next(S),m++;let p=!1;(0,t.Tg)(_(S,L++)).subscribe((0,d._)(h,E=>{u?.(E),D?A(E):h.next(E)},()=>{p=!0},void 0,()=>{if(p)try{for(m--;U.length&&m<l;){const E=U.shift();I?(0,o.N)(h,I,()=>C(E)):C(E)}P()}catch(E){h.error(E)}}))};return c.subscribe((0,d._)(h,A,()=>{O=!0,P()})),()=>{M?.()}}},3028:(T,f,e)=>{e.d(f,{Z:()=>h});var t=e(6354),o=e(8750),d=e(9974),s=e(5412),c=e(8071);function h(_,l,u=1/0){return(0,c.T)(l)?h((D,I)=>(0,t.T)((M,U)=>l(D,M,I,U))((0,o.Tg)(_(D,I))),u):("number"==typeof l&&(u=l),(0,d.N)((D,I)=>(0,s.h)(D,I,_,u)))}},941:(T,f,e)=>{e.d(f,{Q:()=>s});var t=e(5225),o=e(9974),d=e(4360);function s(c,h=0){return(0,o.N)((_,l)=>{_.subscribe((0,d._)(l,u=>(0,t.N)(l,c,()=>l.next(u),h),()=>(0,t.N)(l,c,()=>l.complete(),h),u=>(0,t.N)(l,c,()=>l.error(u),h)))})}},6745:(T,f,e)=>{e.d(f,{_:()=>o});var t=e(9974);function o(d,s=0){return(0,t.N)((c,h)=>{h.add(d.schedule(()=>c.subscribe(h),s))})}},6697:(T,f,e)=>{e.d(f,{s:()=>s});var t=e(983),o=e(9974),d=e(4360);function s(c){return c<=0?()=>t.w:(0,o.N)((h,_)=>{let l=0;h.subscribe((0,d._)(_,u=>{++l<=c&&(_.next(u),c<=l&&_.complete())}))})}},7119:(T,f,e)=>{e.d(f,{S:()=>c});var t=e(1985),o=e(4761),d=e(8071),s=e(5225);function c(h,_){return new t.c(l=>{let u;return(0,s.N)(l,_,()=>{u=h[o.l](),(0,s.N)(l,_,()=>{let D,I;try{({value:D,done:I}=u.next())}catch(M){return void l.error(M)}I?l.complete():l.next(D)},0,!0)}),()=>(0,d.T)(u?.return)&&u.return()})}},5894:(T,f,e)=>{e.d(f,{c:()=>C});var t=e(8750),o=e(941),d=e(6745),h=e(1985),l=e(7119),u=e(5225);function D(S,p){if(!S)throw new Error("Iterable cannot be null");return new h.c(E=>{(0,u.N)(E,p,()=>{const b=S[Symbol.asyncIterator]();(0,u.N)(E,p,()=>{b.next().then(K=>{K.done?E.complete():E.next(K.value)})},0,!0)})})}var I=e(5055),M=e(9858),U=e(7441),m=e(5397),L=e(7953),O=e(591),P=e(5196);function C(S,p){if(null!=S){if((0,I.l)(S))return function s(S,p){return(0,t.Tg)(S).pipe((0,d._)(p),(0,o.Q)(p))}(S,p);if((0,U.X)(S))return function _(S,p){return new h.c(E=>{let b=0;return p.schedule(function(){b===S.length?E.complete():(E.next(S[b++]),E.closed||this.schedule())})})}(S,p);if((0,M.y)(S))return function c(S,p){return(0,t.Tg)(S).pipe((0,d._)(p),(0,o.Q)(p))}(S,p);if((0,L.T)(S))return D(S,p);if((0,m.x)(S))return(0,l.S)(S,p);if((0,P.U)(S))return function A(S,p){return D((0,P.C)(S),p)}(S,p)}throw(0,O.L)(S)}},6780:(T,f,e)=>{e.d(f,{R:()=>c});var t=e(3961);class o extends t.yU{constructor(_,l){super()}schedule(_,l=0){return this}}const d={setInterval(h,_,...l){const{delegate:u}=d;return u?.setInterval?u.setInterval(h,_,...l):setInterval(h,_,...l)},clearInterval(h){const{delegate:_}=d;return(_?.clearInterval||clearInterval)(h)},delegate:void 0};var s=e(7908);class c extends o{constructor(_,l){super(_,l),this.scheduler=_,this.work=l,this.pending=!1}schedule(_,l=0){var u;if(this.closed)return this;this.state=_;const D=this.id,I=this.scheduler;return null!=D&&(this.id=this.recycleAsyncId(I,D,l)),this.pending=!0,this.delay=l,this.id=null!==(u=this.id)&&void 0!==u?u:this.requestAsyncId(I,this.id,l),this}requestAsyncId(_,l,u=0){return d.setInterval(_.flush.bind(_,this),u)}recycleAsyncId(_,l,u=0){if(null!=u&&this.delay===u&&!1===this.pending)return l;null!=l&&d.clearInterval(l)}execute(_,l){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const u=this._execute(_,l);if(u)return u;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(_,l){let D,u=!1;try{this.work(_)}catch(I){u=!0,D=I||new Error("Scheduled action threw falsy error")}if(u)return this.unsubscribe(),D}unsubscribe(){if(!this.closed){const{id:_,scheduler:l}=this,{actions:u}=l;this.work=this.state=this.scheduler=null,this.pending=!1,(0,s.o)(u,this),null!=_&&(this.id=this.recycleAsyncId(l,_,null)),this.delay=null,super.unsubscribe()}}}},707:(T,f,e)=>{e.d(f,{q:()=>o});var t=e(8399);class o extends t._{constructor(s,c=t._.now){super(s,c),this.actions=[],this._active=!1}flush(s){const{actions:c}=this;if(this._active)return void c.push(s);let h;this._active=!0;do{if(h=s.execute(s.state,s.delay))break}while(s=c.shift());if(this._active=!1,h){for(;s=c.shift();)s.unsubscribe();throw h}}}},3236:(T,f,e)=>{e.d(f,{E:()=>d,b:()=>s});var t=e(6780);const d=new(e(707).q)(t.R),s=d},6129:(T,f,e)=>{e.d(f,{U:()=>t});const t={now:()=>(t.delegate||Date).now(),delegate:void 0}},9270:(T,f,e)=>{e.d(f,{f:()=>t});const t={setTimeout(o,d,...s){const{delegate:c}=t;return c?.setTimeout?c.setTimeout(o,d,...s):setTimeout(o,d,...s)},clearTimeout(o){const{delegate:d}=t;return(d?.clearTimeout||clearTimeout)(o)},delegate:void 0}},4761:(T,f,e)=>{e.d(f,{l:()=>o});const o=function t(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(T,f,e)=>{e.d(f,{s:()=>t});const t="function"==typeof Symbol&&Symbol.observable||"@@observable"},4079:(T,f,e)=>{e.d(f,{Z:()=>o});const o=(0,e(1853).L)(d=>function(c){d(this),this.message=c?`${c.length} errors occurred during unsubscription:\n${c.map((h,_)=>`${_+1}) ${h.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=c})},9326:(T,f,e)=>{e.d(f,{R0:()=>h,lI:()=>c,ms:()=>s});var t=e(8071),o=e(9470);function d(_){return _[_.length-1]}function s(_){return(0,t.T)(d(_))?_.pop():void 0}function c(_){return(0,o.m)(d(_))?_.pop():void 0}function h(_,l){return"number"==typeof d(_)?_.pop():l}},7908:(T,f,e)=>{function t(o,d){if(o){const s=o.indexOf(d);0<=s&&o.splice(s,1)}}e.d(f,{o:()=>t})},1853:(T,f,e)=>{function t(o){const s=o(c=>{Error.call(c),c.stack=(new Error).stack});return s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,s}e.d(f,{L:()=>t})},9786:(T,f,e)=>{e.d(f,{Y:()=>d,l:()=>s});var t=e(1026);let o=null;function d(c){if(t.$.useDeprecatedSynchronousErrorHandling){const h=!o;if(h&&(o={errorThrown:!1,error:null}),c(),h){const{errorThrown:_,error:l}=o;if(o=null,_)throw l}}else c()}function s(c){t.$.useDeprecatedSynchronousErrorHandling&&o&&(o.errorThrown=!0,o.error=c)}},5225:(T,f,e)=>{function t(o,d,s,c=0,h=!1){const _=d.schedule(function(){s(),h?o.add(this.schedule(null,c)):this.unsubscribe()},c);if(o.add(_),!h)return _}e.d(f,{N:()=>t})},3669:(T,f,e)=>{function t(o){return o}e.d(f,{D:()=>t})},7441:(T,f,e)=>{e.d(f,{X:()=>t});const t=o=>o&&"number"==typeof o.length&&"function"!=typeof o},7953:(T,f,e)=>{e.d(f,{T:()=>o});var t=e(8071);function o(d){return Symbol.asyncIterator&&(0,t.T)(d?.[Symbol.asyncIterator])}},8211:(T,f,e)=>{function t(o){return o instanceof Date&&!isNaN(o)}e.d(f,{v:()=>t})},8071:(T,f,e)=>{function t(o){return"function"==typeof o}e.d(f,{T:()=>t})},5055:(T,f,e)=>{e.d(f,{l:()=>d});var t=e(3494),o=e(8071);function d(s){return(0,o.T)(s[t.s])}},5397:(T,f,e)=>{e.d(f,{x:()=>d});var t=e(4761),o=e(8071);function d(s){return(0,o.T)(s?.[t.l])}},9858:(T,f,e)=>{e.d(f,{y:()=>o});var t=e(8071);function o(d){return(0,t.T)(d?.then)}},5196:(T,f,e)=>{e.d(f,{C:()=>d,U:()=>s});var t=e(1635),o=e(8071);function d(c){return(0,t.AQ)(this,arguments,function*(){const _=c.getReader();try{for(;;){const{value:l,done:u}=yield(0,t.N3)(_.read());if(u)return yield(0,t.N3)(void 0);yield yield(0,t.N3)(l)}}finally{_.releaseLock()}})}function s(c){return(0,o.T)(c?.getReader)}},9470:(T,f,e)=>{e.d(f,{m:()=>o});var t=e(8071);function o(d){return d&&(0,t.T)(d.schedule)}},9974:(T,f,e)=>{e.d(f,{N:()=>d,S:()=>o});var t=e(8071);function o(s){return(0,t.T)(s?.lift)}function d(s){return c=>{if(o(c))return c.lift(function(h){try{return s(h,this)}catch(_){this.error(_)}});throw new TypeError("Unable to lift unknown Observable type")}}},5343:(T,f,e)=>{function t(){}e.d(f,{l:()=>t})},1203:(T,f,e)=>{e.d(f,{F:()=>o,m:()=>d});var t=e(3669);function o(...s){return d(s)}function d(s){return 0===s.length?t.D:1===s.length?s[0]:function(h){return s.reduce((_,l)=>l(_),h)}}},5334:(T,f,e)=>{e.d(f,{m:()=>d});var t=e(1026),o=e(9270);function d(s){o.f.setTimeout(()=>{const{onUnhandledError:c}=t.$;if(!c)throw s;c(s)})}},591:(T,f,e)=>{function t(o){return new TypeError(`You provided ${null!==o&&"object"==typeof o?"an invalid object":`'${o}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}e.d(f,{L:()=>t})},467:(T,f,e)=>{function t(d,s,c,h,_,l,u){try{var D=d[l](u),I=D.value}catch(M){return void c(M)}D.done?s(I):Promise.resolve(I).then(h,_)}function o(d){return function(){var s=this,c=arguments;return new Promise(function(h,_){var l=d.apply(s,c);function u(I){t(l,h,_,u,D,"next",I)}function D(I){t(l,h,_,u,D,"throw",I)}u(void 0)})}}e.d(f,{A:()=>o})},1635:(T,f,e)=>{function M(r,n,i,a){return new(i||(i=Promise))(function(y,g){function w(B){try{R(a.next(B))}catch(x){g(x)}}function j(B){try{R(a.throw(B))}catch(x){g(x)}}function R(B){B.done?y(B.value):function v(y){return y instanceof i?y:new i(function(g){g(y)})}(B.value).then(w,j)}R((a=a.apply(r,n||[])).next())})}function p(r){return this instanceof p?(this.v=r,this):new p(r)}function E(r,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v,a=i.apply(r,n||[]),y=[];return v=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),w("next"),w("throw"),w("return",function g(W){return function(F){return Promise.resolve(F).then(W,x)}}),v[Symbol.asyncIterator]=function(){return this},v;function w(W,F){a[W]&&(v[W]=function(H){return new Promise(function(Y,G){y.push([W,H,Y,G])>1||j(W,H)})},F&&(v[W]=F(v[W])))}function j(W,F){try{!function R(W){W.value instanceof p?Promise.resolve(W.value.v).then(B,x):X(y[0][2],W)}(a[W](F))}catch(H){X(y[0][3],H)}}function B(W){j("next",W)}function x(W){j("throw",W)}function X(W,F){W(F),y.shift(),y.length&&j(y[0][0],y[0][1])}}function K(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=r[Symbol.asyncIterator];return n?n.call(r):(r=function O(r){var n="function"==typeof Symbol&&Symbol.iterator,i=n&&r[n],a=0;if(i)return i.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i);function a(y){i[y]=r[y]&&function(g){return new Promise(function(w,j){!function v(y,g,w,j){Promise.resolve(j).then(function(R){y({value:R,done:w})},g)}(w,j,(g=r[y](g)).done,g.value)})}}}e.d(f,{AQ:()=>E,N3:()=>p,sH:()=>M,xN:()=>K}),"function"==typeof SuppressedError&&SuppressedError}}]);